{% extends "admin/base_site.html" %}
{% block content %}
<h1>Selecionar Turma</h1>
<form method="get">
    <label for="turma">Turma:</label>
    <select name="turma" id="turma" required onchange="onTurmaChange()">
        <option value="">Selecione...</option>
        {% for turma in turmas %}
            {% if turma.class_name in '1° 2° 3°' %}
                <option value="{{ turma.id }}" data-class-name="{{ turma.class_name }}">{{ turma.class_name }}</option>
            {% endif %}
        {% endfor %}
    </select>

    <div id="itinerario-field" style="display:none; margin-top:10px;">
        <label for="itinerario">Itinerário:</label>
        <select name="itinerario" id="itinerario">
            <option value="CN">Ciências da Natureza</option>
            <option value="DS">Desenvolvimento de Sistemas</option>
            <option value="DJ">Desenvolvimento de Jogos</option>
        </select>
    </div>

    <div id="turma-abc-field" style="display:none; margin-top:10px;">
        <label for="turma_abc">Turma:</label>
        <select name="turma_abc" id="turma_abc">
            <option value="1°A">1°A</option>
            <option value="1°B">1°B</option>
            <option value="1°C">1°C</option>
        </select>
    </div>

    <button type="submit">Próximo</button>
</form>

<script>
function onTurmaChange() {
    var turmaSelect = document.getElementById('turma');
    var selectedOption = turmaSelect.options[turmaSelect.selectedIndex];
    var className = selectedOption.getAttribute('data-class-name');
    document.getElementById('itinerario-field').style.display = (className === '2°' || className === '3°') ? 'block' : 'none';
    document.getElementById('turma-abc-field').style.display = (className === '1°') ? 'block' : 'none';
}
</script>
{% endblock %}
